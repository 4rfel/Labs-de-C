



<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://insper.github.io/Labs-de-C/Lab4-2/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar para área de transferência">
      
        <meta name="lang:clipboard.copied" content="Copiado para área de transferência">
      
        <meta name="lang:search.language" content="pt">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Nenhum resultado encontrado">
      
        <meta name="lang:search.result.one" content="1 resultado encontrado">
      
        <meta name="lang:search.result.other" content="# resultados encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Lab 4 - Arrays, Strings e Matrizes - 5s - Labs de C - Insper Comp.</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../css/printing.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lab-4-arrays-strings-e-matrizes" tabindex="1" class="md-skip">
        Ir para o conteúdo
      </a>
    
    
      <!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Application header -->

<div class="md-printing-header">
  <img class="cabecalho" src="https://insper.github.io/Labs-de-C//css/cabecalho.png">
  <img class="logo" src="https://insper.github.io/Labs-de-C//css/logo.png">

  <div class="frontmatter">
    <div class="materia">  </div>
    <div class="professor">  </div>
    <div class="semestre">  </div>
  </div>
</div>
<header class="md-header" data-md-component="header">



  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid">
    <div class="md-flex">

      <!-- Link to home -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://insper.github.io/Labs-de-C/"
            title="5s - Labs de C - Insper Comp."
            class="md-header-nav__button md-logo">
          
            <i class="md-icon">code</i>
          
        </a>
      </div>      
      <!-- Button to toggle drawer -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button"
            for="__drawer"></label>
      </div>
      <!-- Header title -->
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title"
            data-md-component="title">
          
            <span class="md-header-nav__topic">
              5s - Labs de C - Insper Comp.
            </span>
            <span class="md-header-nav__topic">
              
                Lab 4 - Arrays, Strings e Matrizes
              
            </span>
          
        </div>
      </div>

      <!-- Button to open search dialogue -->
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button"
              for="__search"></label>

          <!-- Search interface -->
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Digite para iniciar a busca
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>

      <!-- Repository containing source -->
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Insper/" title="Ir ao repositório" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Insper/Labs-de-C
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../mutirao/" class="md-tabs__link">
          Mutirão
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://insper.github.io/Labs-de-C/" title="5s - Labs de C - Insper Comp." class="md-nav__button md-logo">
      
        <i class="md-icon">code</i>
      
    </a>
    5s - Labs de C - Insper Comp.
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Insper/" title="Ir ao repositório" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Insper/Labs-de-C
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Mutirão
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Mutirão
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mutirao/" title="Sobre" class="md-nav__link">
      Sobre
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Super Aula
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Super Aula
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-1" type="checkbox" id="nav-2-2-1">
    
    <label class="md-nav__link" for="nav-2-2-1">
      Embarcados
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-1">
        Embarcados
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../day1-embarcados/" title="Parte 1" class="md-nav__link">
      Parte 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../day1-embarcados-parte2/" title="Parte 2" class="md-nav__link">
      Parte 2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/Insper/Labs-de-C/blob/master/day-one/day1-sysHwSw.pdf" title="Sys HW/SW" class="md-nav__link">
      Sys HW/SW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/Insper/Labs-de-C/blob/master/day-one/day1-desafios.pdf" title="Desafios" class="md-nav__link">
      Desafios
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lab1/" title="Lab 1 - Conceitos Básicos" class="md-nav__link">
      Lab 1 - Conceitos Básicos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lab2/" title="Lab 2 - Praticando" class="md-nav__link">
      Lab 2 - Praticando
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lab3/" title="Lab 3 - Compilação usando GCC" class="md-nav__link">
      Lab 3 - Compilação usando GCC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lab4/" title="Lab 4 - Arrays, Strings e Matrizes" class="md-nav__link">
      Lab 4 - Arrays, Strings e Matrizes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lab5/" title="Lab 5 - juntando tudo" class="md-nav__link">
      Lab 5 - juntando tudo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Índice</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arrays-em-c" class="md-nav__link">
    Arrays em C
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strings" class="md-nav__link">
    Strings
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Insper/edit/master/docs/Lab4-2.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lab-4-arrays-strings-e-matrizes">Lab 4 - Arrays, Strings e Matrizes<a class="headerlink" href="#lab-4-arrays-strings-e-matrizes" title="Permanent link">&para;</a></h1>
<p>Na última aula trabalhamos com conceitos básicos de  <em>C</em> e com tipos de dados simples (inteiros e números fracionários). Hoje veremos as primeiras estruturas complexas em <em>C</em>: vetores, matrizes e strings. </p>
<h2 id="arrays-em-c">Arrays em <em>C</em><a class="headerlink" href="#arrays-em-c" title="Permanent link">&para;</a></h2>
<p>Criamos <em>arrays</em> <strong>de tamanho fixo</strong> em <em>C</em> usando a seguinte sintaxe:</p>
<div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">A</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
</pre></div>

<p>Basta adicionar <code>[]</code> após o tipo e teremos um array de tamanho constante (i.e. não dependente da entrada do usuário). <strong>Não é possível redimensionar o array</strong>. Depois de declarado ele terá para sempre o mesmo tamanho. </p>
<p><img alt="Representação de array de long na memória" src="../imgs/day4-arrays/mem-array.png" /></p>
<p>O acesso a elementos também é bastante simples:</p>
<div class="codehilite"><pre><span></span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">A</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</pre></div>

<p>A linha acima imprime o primeira valor do vetor. O uso com <code>scanf</code> segue a mesma lógica dos tipos simples:</p>
<div class="codehilite"><pre><span></span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</pre></div>

<div class="admonition question long">
<p class="admonition-title">Question</p>
<p>Simule o código abaixo manualmente e escreva sua saída abaixo.</p>
<div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="kt">long</span> <span class="n">vetor</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">vetor</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Par! &quot;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i: %d, vetor[i]: %ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">vetor</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>   
<span class="p">}</span>
</pre></div>

</div>
<div class="admonition question long">
<p class="admonition-title">Question</p>
<p>O código acima está no arquivo <em>/code/lab4/erro_comum1.c</em>. Compile e execute ele. Os resultados foram os esperados? Se não, você consegue explicar por que eles foram diferentes?</p>
</div>
<hr />
<p>Como podemos ver, o código compila, mas seu comportamento é indefinido por duas razões:</p>
<ol>
<li>O vetor não é inicializado com 0 quando é criado. </li>
<li>A posição <code>vetor[5]</code> não é válida e pode resultar na leitura de dados inválidos da memória.</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Diferentemente de outras linguagens, <em>C</em> não verifica os índices automaticamente nem inicializa o elementos do vetor com 0. Além disto, não é possível obter o tamanho de um vetor a partir de seu nome.</p>
</div>
<p>Um ponto importante é que o sistema de tipos não permite a conversão/passagem de vetores do mesmo tipo mas de tamanhos diferentes. Assim, a função abaixo não aceitaria como argumento a variável <code>double arr[4]</code>, pois só aceita vetores de tamanho 3.</p>
<div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="nf">soma</span><span class="p">(</span><span class="kt">double</span> <span class="n">arr</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="p">{</span>
    <span class="kt">double</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Para fazê-la aceitar vetores de tamanho qualquer poderíamos mudar sua assinatura para não checar o tamanho do vetor e passá-lo como argumento da função. </p>
<div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="nf">soma</span><span class="p">(</span><span class="kt">double</span> <span class="n">arr</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">n</span><span class="p">);</span>
</pre></div>

<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Trabalharemos com o arquivo <code>code/lab4/soma.c</code>. Abra-o e implemente, no local indicado, a função <code>soma</code> com a assinatura acima. Lembre-se que em <em>C</em> arrays não conhecem seu tamanho, então é de sua responsabilidade acessar somente elementos válidos e checar se o vetor não está vazio (ou seja, <code>n &lt; 1</code>)</p>
</div>
<div class="admonition question short">
<p class="admonition-title">Question</p>
<p>O arquivo usado acima contém vários testes na função <code>main</code>. Leia a função <code>main</code> e escreva abaixo a notação usada para inicializar um array com valores constantes. Como você inicializaria um vetor de <code>int</code> com os valores <span><span class="MathJax_Preview">0, 2, 3, 2, 5</span><script type="math/tex">0, 2, 3, 2, 5</script></span>?</p>
</div>
<h2 id="strings">Strings<a class="headerlink" href="#strings" title="Permanent link">&para;</a></h2>
<p>Como visto na expositiva, strings são arrays de caracteres sendo que o último elemento da string contém um caractere <code>'\0'</code>. Logo, uma string declarada como <code>char str[100]</code> pode guardar strings de <strong>até 99</strong> caracteres (mais 1 para o <code>'\0'</code>). Se a string tiver comprimento menor o restante das posições simplesmente não é utilizado.</p>
<p><img alt="String é um vetor de char terminado em '\0'." src="../imgs/day4-arrays/mem-str.png" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Uma <em>string</em> em <em>C</em> nada mais é do que um <em>array</em> do tipo <code>char</code> cujo último elemento é um <code>\0</code>. 
As duas linhas abaixo tem o mesmo efeito. 
<div class="codehilite"><pre><span></span><span class="kt">char</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;insper&quot;</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">arr2</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="sc">&#39;i&#39;</span><span class="p">,</span> <span class="sc">&#39;n&#39;</span><span class="p">,</span> <span class="sc">&#39;s&#39;</span><span class="p">,</span> <span class="sc">&#39;p&#39;</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">,</span> <span class="sc">&#39;r&#39;</span><span class="p">,</span> <span class="sc">&#39;\0&#39;</span><span class="p">};</span>
</pre></div>
Claramente a primeira é muito mais conveniente ;)</p>
</div>
<div class="admonition question short">
<p class="admonition-title">Question</p>
<p>Em <em>C</em>, qual a diferença entre <code>"a"</code> e <code>'a'</code>? </p>
</div>
<p>Para imprimir uma string no terminal basta usar o código <code>%s</code> na string de formatação do printf:</p>
<div class="codehilite"><pre><span></span><span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;world!&quot;</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;hello %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
</pre></div>

<p>Já a leitura de strings é feita usando a função <em>fgets</em>, que recebe um array de <code>char</code> com tamanho <code>n</code> e lê até <code>n-1</code> caracteres de um arquivo ou do terminal. <em>fgets</em> para quando encher o vetor ou quando encontrar uma quebra de linha <code>\n</code>. No exemplo abaixo, <code>stdin</code> (<em>Standard Input</em>) representa o terminal. </p>
<div class="codehilite"><pre><span></span><span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="n">fgets</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">stdin</span><span class="p">);</span> <span class="c1">// precisamos passar o tamanho máximo + 1 da nossa string. </span>
</pre></div>

<div class="admonition question short">
<p class="admonition-title">Question</p>
<p>Para iterar sobre todos os caracteres de uma string precisamos saber seu tamanho? Como podemos fazer isto? <strong>Dica</strong>: reveja a imagem e o exemplo de código do começo da seção.</p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Crie um programa, do zero, que</p>
<ol>
<li>declara uma string de tamanho máximo 100</li>
<li>leia uma linha do terminal</li>
<li>conte o número de vezes que a letra "a" aparece</li>
<li>mostre esse valor no terminal</li>
</ol>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Modifique o programa acima para contar também o número de vezes que o caractere "1" aparece na string recebida.</p>
</div>
<h1 id="matrizes">Matrizes<a class="headerlink" href="#matrizes" title="Permanent link">&para;</a></h1>
<p>Como visto na expositiva, matrizes em <em>C</em> nada mais são que vetores colocados um após o outro.</p>
<div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">mat</span><span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>

<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">mat</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span> <span class="cm">/* acessa linha 0, coluna 3 */</span>

<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">mat</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">// armazena inteiro digitado na posição 1,5</span>
</pre></div>

<p><img alt="Representação de matriz de inteiros na memória" src="../imgs/day4-arrays/mem-mat.png" /></p>
<p>Perceba que toda a primeira linha é armazenada (contendo 3 <code>long</code>s) antes do início da segunda linha. Ou seja, a matriz é armazenada "deitada" na memória, uma linha após a outra.</p>
<div class="admonition question short">
<p class="admonition-title">Question</p>
<p>Levando em conta que a matriz é guardada como na figura acima, em qual posição da memória estão armazenados os seguintes elementos? Você deve contar a partir do primeiro elemento (<code>mat[0][0]</code>).</p>
<ul>
<li><code>mat[0][2]</code></li>
<li><code>mat[1][2]</code></li>
<li><code>mat[2][0]</code> </li>
</ul>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Faça, do zero, um programa que lê uma matriz <span><span class="MathJax_Preview">5\times 4</span><script type="math/tex">5\times 4</script></span> e imprime no terminal a soma de cada uma de suas colunas. </p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Modifique seu programa acima para, além das somas de cada coluna, imprimir também o índice da coluna de maior valor.</p>
</div>
<h2 id="exercicios">Exercícios<a class="headerlink" href="#exercicios" title="Permanent link">&para;</a></h2>
<p>Agora que já trabalhamos um pouco com <em>arrays</em>, <em>strings</em> e matrizes está na hora de praticar com exercícios mais complexos. Estes exercícios não são opcionais, sua realização é essencial para cumprir os objetivos do Mutirão. </p>
<h3 id="arrays">Arrays<a class="headerlink" href="#arrays" title="Permanent link">&para;</a></h3>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Escreva, do zero, um programa que </p>
<ol>
<li>Leia um inteiro <code>n</code> do terminal (número de elementos do vetor)</li>
<li>Leia <code>n</code> números fracionários e guardá-los em um array.</li>
<li>Chame uma função para calcular a média do vetor.</li>
<li>Imprima a média calculada.</li>
</ol>
<p>Seu programa deverá calcular a média usando uma função <code>avg</code> escrita por você mesmo e pode supor que <code>n &lt; 100</code>. Para facilitar seus testes, escreva dois arquivos de entrada e use <code>&lt;</code> para rodar o programa. </p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Modifique seu programa acima para que ele imprima também a variância do vetor. </p>
</div>
<h3 id="strings_1">Strings<a class="headerlink" href="#strings_1" title="Permanent link">&para;</a></h3>
<div class="admonition question long">
<p class="admonition-title">Question</p>
<p>Escreva abaixo uma função que recebe uma string como parâmetro e retorna 1 se ela é um palíndromo ou 0 caso contrário.</p>
</div>
<div class="admonition question medium">
<p class="admonition-title">Question</p>
<p>Um aluno fez a seguinte função para cópia de strings. </p>
<div class="codehilite"><pre><span></span><span class="kt">void</span> <span class="nf">copia_string</span><span class="p">(</span><span class="kt">char</span> <span class="n">str1</span><span class="p">[],</span> <span class="kt">char</span> <span class="n">str2</span><span class="p">[])</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">str1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">str2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">str1</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="n">i</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Existem pelo menos dois problemas graves neste código. Você consegue identificá-los? </p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Faça, do zero, um programa que leia uma string (tamanho máximo 200) e crie uma nova string trocando toda letra por maiúsculas. Seu programa deverá imprimir a string original e sua versão em maiúsculas. Seu programa deve funcionar para strings contendo números, símbolos, espaços e letras maiúsculas e minúsculas. Consulte a tabela abaixo, se necessário. </p>
<p><img alt="Tabela ASCII com valores em decimal e hexa" src="http://www.asciichars.com/_site_media/ascii/ascii-chars-landscape.jpg" /></p>
</div>
<h3 id="matrizes_1">Matrizes<a class="headerlink" href="#matrizes_1" title="Permanent link">&para;</a></h3>
<p>O formato de imagens mais simples existente é o <code>pgm</code>, que reprenta uma imagem em níveis de cinza como uma matriz com valores entre 0 (para preto) e 255 (para branco). Seu formato é o seguinte.</p>
<div class="codehilite"><pre><span></span>P2
W H
255
.........
</pre></div>

<p>Ou seja, primeiro lemos uma linha com a string "P2", depois dois inteiros <code>w</code> e <code>h</code> representando a largura e a altura da imagem, depois o valor 255. Então lemos <code>w * h</code> valores representando os pixels da imagem. Disponibilizamos várias imagens de exemplo na pasta <em>exemplos</em>. Vocês podem abrí-las com qualquer editor de texto para ver seu conteúdo. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Nas tarefas abaixo estamos supondo que você usa <code>&lt;</code> para passar o conteúdo das imagens exemplo para seu programa no terminal e <code>&gt;</code> para salvar o resultado do terminal em uma nova imagem <em>pgm</em>.</p>
</div>
<p>Para as tarefas abaixo você pode supor que as imagens tem tamanho máximo <span><span class="MathJax_Preview">512\times 512</span><script type="math/tex">512\times 512</script></span>. Para deixar seu código mais limpo, defina duas constantes <code>MAXW</code> e <code>MAXH</code> para guardar estes valores. </p>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Crie, do zero, um programa que lê o cabeçalho de uma imagem <em>pgm</em> (primeiras três linhas) passada no terminal e imprima as dimensões da imagem. Não se esqueça de ler também o número <code>255</code> na terceira linha.</p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Crie uma função <code>void le_imagem(int mat[MAXH][MAXW], int w, int h)</code> que lê os valores da matriz da imagem e os escreve em <code>mat</code>. </p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Crie uma função <code>void escreve_imagem(int max[MAXH][MAXW], int w, int h)</code> que escreve o cabeçalho e todos os pixels de uma imagem no terminal seguindo o formato <em>pgm</em> descrito acima.</p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Verifique que seu programa está correto fazendo uma função <code>main</code> que simplesmente lê uma imagem e logo em seguida a escreve no terminal. Verifique visualmente que a imagem de saída é igual a original. </p>
</div>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Finalmente, crie uma função <code>void limiar(int max[MAXH][MAXW], int w, int h, int lim)</code> que aplica um limiar de 127 na imagem e chame-a na sua função <code>main</code>. Verifique visualmente que a imagem de saída é a esperada. </p>
</div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 / Marcelo Hashimoto, Igor Montagner, Rafael Corsi, Eduardo Marossi
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.808e90bb.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../assets/javascripts/lunr/lunr.pt.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../translate_admonitions.js"></script>
      
    
  </body>
</html>